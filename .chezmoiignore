.bashrc
.ssh/authorized_keys # Should only be copied on homelab servers
apps

{{- if ne .osid "darwin" }}
Library/
{{ end -}}

{{- if ne .osid "linux-manjaro" }}
.config/
{{ end -}}

{{- if ne .osid "windows" }}
AppData/
**/*.ps1
{{ end -}}

{{- if eq .osid "windows" }}
**/*.sh
{{ end -}}

{{- if hasPrefix "homelab-" .chezmoi.fqdnHostname }}
# Homelab machines: ignore everything, then allowlist specific configs
**/*

# Allowed configs for homelab
!.bashrc
!.gitconfig
!.ssh/authorized_keys
!apps/
!apps/**
!apps/**/*.yaml
!apps/**/.env

# Allowed scripts for homelab
!.chezmoiscripts
!.chezmoiscripts/*_homelab.*
{{ end -}}
