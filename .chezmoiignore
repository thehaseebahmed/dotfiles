# Global ignores
setup-git-hooks.sh

# Configs for Homelab machines, so ignored on all others
.bashrc
.chezmoiscripts/*_homelab.*
.ssh/authorized_keys
apps

# Linux
{{- if ne .osid "linux-manjaro" }}
.config/*
{{ end -}}

# MacOS
{{- if ne .osid "darwin" }}
Library/
{{ end -}}

{{- if eq .osid "darwin" }}
!.config/ziit/
{{ end -}}

# Windows
{{- if ne .osid "windows" }}
AppData/
**/*.ps1
{{ end -}}

{{- if eq .osid "windows" }}
**/*.sh
{{ end -}}

# Homelab Machines
{{- if hasPrefix "homelab-" .chezmoi.fqdnHostname }}
# Homelab machines: ignore everything, then allowlist specific configs
**/*

# Allowed configs for homelab
!.bashrc
!.gitconfig
!.ssh
!.ssh/authorized_keys
!apps
!apps/**
!apps/**/*.*

# Allowed scripts for homelab
!.chezmoiscripts/*_homelab.*
{{ end -}}
